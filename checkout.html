<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout - Ecomars</title>
  <meta name="description" content="Ecomars Checkout - ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    header {
      background: #007bff;
      color: white;
      padding: 15px 20px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }
    .container {
      max-width: 700px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }
    .cart-item img {
      width: 80px;
      border-radius: 5px;
    }
    .cart-info {
      flex: 1;
      margin-left: 10px;
    }
    .price {
      color: #e91e63;
      font-weight: bold;
    }
    .qty-control button {
      padding: 3px 8px;
      font-size: 14px;
      cursor: pointer;
    }
    form label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    form input, form textarea, form select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    .order-summary {
      background: #f9f9f9;
      padding: 10px;
      margin-top: 15px;
      border-radius: 5px;
    }
    .order-summary p {
      margin: 5px 0;
      display: flex;
      justify-content: space-between;
    }
    button {
      background: #007bff;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 5px;
      width: 100%;
      font-size: 16px;
      margin-top: 15px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    .empty-cart {
      text-align: center;
      padding: 40px;
      font-size: 18px;
      color: #777;
    }
  </style>
</head>
<body>

<header>üõí ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ì ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü</header>

<div class="container">
  <div id="cartItems"></div>

  <form id="orderForm">
    <h2>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</h2>

    <label>‡¶®‡¶æ‡¶Æ</label>
    <input type="text" id="name" required>

    <label>‡¶´‡ßã‡¶®</label>
    <input type="tel" id="phone" required>

    <label>‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
    <input type="email" id="email" required>

    <label>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</label>
    <textarea id="address" rows="3" required></textarea>

    <label>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶°</label>
    <select id="payment" required>
      <option value="">-- ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
      <option value="bKash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option>
      <option value="Nagad">‡¶®‡¶ó‡¶¶</option>
      <option value="Rocket">‡¶∞‡¶ï‡ßá‡¶ü</option>
      <option value="COD">‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶® ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</option>
    </select>

    <label>‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶° (‡¶Ø‡¶¶‡¶ø ‡¶•‡¶æ‡¶ï‡ßá)</label>
    <input type="text" id="coupon" placeholder="‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">

    <div class="order-summary">
      <p><span>‡¶∏‡¶æ‡¶¨‡¶ü‡ßã‡¶ü‡¶æ‡¶≤:</span> <span id="subtotal">‡ß≥0</span></p>
      <p><span>‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ö‡¶æ‡¶∞‡ßç‡¶ú:</span> <span id="delivery">‡ß≥60</span></p>
      <p><span>‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü:</span> <span id="discount">‡ß≥0</span></p>
      <hr>
      <p><strong>‡¶Æ‡ßã‡¶ü:</strong> <strong id="total">‡ß≥0</strong></p>
    </div>

    <button type="submit">‚úÖ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </form>
</div>

<script>
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  const deliveryCharge = 60;

  function renderCart(){
    const container = document.getElementById('cartItems');
    container.innerHTML = '';

    if(cart.length === 0){
      container.innerHTML = '<div class="empty-cart">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶Ü‡¶õ‡ßá‡•§ <a href="index.html">‡¶∂‡¶™‡¶ø‡¶Ç ‡¶è ‡¶Ø‡¶æ‡¶®</a></div>';
      document.querySelector('form').style.display = 'none';
      return;
    }

    cart.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <img src="${item.img}" alt="${item.name}">
        <div class="cart-info">
          <h4>${item.name}</h4>
          <p class="price">‡ß≥${item.price}</p>
          <p>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£: ${item.qty}</p>
          <div class="qty-control">
            <button onclick="changeQty(${index}, -1)">-</button>
            <button onclick="changeQty(${index}, 1)">+</button>
            <button onclick="removeItem(${index})">‚ùå</button>
          </div>
        </div>
      `;
      container.appendChild(div);
    });
    updateSummary();
  }

  function changeQty(index, delta){
    cart[index].qty += delta;
    if(cart[index].qty <= 0) cart.splice(index, 1);
    saveCart();
    renderCart();
  }

  function removeItem(index){
    cart.splice(index, 1);
    saveCart();
    renderCart();
  }

  function saveCart(){
    localStorage.setItem('cart', JSON.stringify(cart));
  }

  function updateSummary(){
    const subtotal = cart.reduce((sum, i) => sum + i.price * i.qty, 0);
    document.getElementById('subtotal').textContent = `‡ß≥${subtotal}`;
    let discount = 0;

    const coupon = document.getElementById('coupon').value.trim();
    if(coupon.toLowerCase() === 'ecomars10'){
      discount = subtotal * 0.10;
    }

    document.getElementById('discount').textContent = `‡ß≥${discount}`;
    const total = subtotal + deliveryCharge - discount;
    document.getElementById('total').textContent = `‡ß≥${total}`;
  }

  document.getElementById('coupon').addEventListener('input', updateSummary);

  document.getElementById('orderForm').addEventListener('submit', function(e){
    e.preventDefault();
    if(cart.length === 0) return alert('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø');
    alert('üéâ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
    localStorage.removeItem('cart');
    window.location.href = 'index.html';
  });

  renderCart();
</script>

</body>
  </html>
